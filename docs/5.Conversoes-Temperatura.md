# Conversões de Temperatura

Este documento descreve as fórmulas e implementação das conversões de temperatura utilizadas no sistema.

## Escalas de Temperatura

| Escala | Símbolo | Descrição |
|--------|---------|-----------|
| Celsius | °C | Escala métrica, baseada nos pontos de fusão (0°C) e ebulição (100°C) da água |
| Fahrenheit | °F | Escala imperial, comum nos EUA |
| Kelvin | K | Escala absoluta, usada em ciência (0K = zero absoluto) |

## Fórmulas de Conversão

### Celsius para Fahrenheit

```
F = C × 1.8 + 32
```

Onde:
- **F** = Temperatura em Fahrenheit
- **C** = Temperatura em Celsius
- **1.8** = Fator de conversão (também pode ser escrito como 9/5)
- **32** = Offset para ajustar o ponto de congelamento

#### Exemplos

| Celsius | Cálculo | Fahrenheit |
|---------|---------|------------|
| 0°C | 0 × 1.8 + 32 | 32°F |
| 25°C | 25 × 1.8 + 32 | 77°F |
| 100°C | 100 × 1.8 + 32 | 212°F |
| -40°C | -40 × 1.8 + 32 | -40°F |

---

### Celsius para Kelvin

```
K = C + 273
```

Onde:
- **K** = Temperatura em Kelvin
- **C** = Temperatura em Celsius
- **273** = Diferença entre os pontos zero das escalas

> [!NOTE]
> O valor mais preciso seria 273.15, mas o desafio especifica usar 273.

#### Exemplos

| Celsius | Cálculo | Kelvin |
|---------|---------|--------|
| 0°C | 0 + 273 | 273K |
| 25°C | 25 + 273 | 298K |
| 100°C | 100 + 273 | 373K |
| -273°C | -273 + 273 | 0K (zero absoluto) |

---

## Implementação em Go

### Funções de Conversão

```go
// CelsiusToFahrenheit converte Celsius para Fahrenheit
// Fórmula: F = C × 1.8 + 32
func CelsiusToFahrenheit(celsius float64) float64 {
    return celsius*1.8 + 32
}

// CelsiusToKelvin converte Celsius para Kelvin
// Fórmula: K = C + 273
func CelsiusToKelvin(celsius float64) float64 {
    return celsius + 273
}
```

### Estrutura Weather

```go
type Weather struct {
    TempC float64 `json:"temp_C"` // Temperatura em Celsius
    TempF float64 `json:"temp_F"` // Temperatura em Fahrenheit
    TempK float64 `json:"temp_K"` // Temperatura em Kelvin
}

// NewWeather cria um Weather a partir da temperatura em Celsius
func NewWeather(tempC float64) Weather {
    return Weather{
        TempC: tempC,
        TempF: CelsiusToFahrenheit(tempC),
        TempK: CelsiusToKelvin(tempC),
    }
}
```

---

## Precisão Numérica

### Arredondamento

O sistema retorna valores com precisão de uma casa decimal para manter consistência com a API de origem:

```go
// Arredonda para 1 casa decimal
func round(value float64) float64 {
    return math.Round(value*10) / 10
}
```

### Formato de Saída JSON

```json
{
  "temp_C": 28.5,
  "temp_F": 83.3,
  "temp_K": 301.5
}
```

---

## Testes de Conversão

### Casos de Teste

```go
func TestCelsiusToFahrenheit(t *testing.T) {
    tests := []struct {
        celsius    float64
        fahrenheit float64
    }{
        {0, 32},
        {100, 212},
        {-40, -40},
        {25, 77},
        {28.5, 83.3},
    }
    
    for _, tt := range tests {
        result := CelsiusToFahrenheit(tt.celsius)
        if math.Abs(result-tt.fahrenheit) > 0.1 {
            t.Errorf("CelsiusToFahrenheit(%v) = %v; want %v", 
                tt.celsius, result, tt.fahrenheit)
        }
    }
}

func TestCelsiusToKelvin(t *testing.T) {
    tests := []struct {
        celsius float64
        kelvin  float64
    }{
        {0, 273},
        {100, 373},
        {-273, 0},
        {25, 298},
        {28.5, 301.5},
    }
    
    for _, tt := range tests {
        result := CelsiusToKelvin(tt.celsius)
        if result != tt.kelvin {
            t.Errorf("CelsiusToKelvin(%v) = %v; want %v", 
                tt.celsius, result, tt.kelvin)
        }
    }
}
```

---

## Referências

| Recurso | Link |
|---------|------|
| Wikipedia - Celsius | https://en.wikipedia.org/wiki/Celsius |
| Wikipedia - Fahrenheit | https://en.wikipedia.org/wiki/Fahrenheit |
| Wikipedia - Kelvin | https://en.wikipedia.org/wiki/Kelvin |
