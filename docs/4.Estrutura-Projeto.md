# Estrutura do Projeto

Este documento descreve a estrutura de diretórios e arquivos do projeto.

## Visão Geral

```
go-expert-desafio-cloud-run/
├── api/
│   └── api.http                 # Chamadas de teste (REST Client)
├── cmd/
│   └── api/
│       └── main.go              # Entry point da aplicação
├── internal/
│   ├── domain/
│   │   ├── entity/
│   │   │   ├── location.go      # Entidade de localização
│   │   │   └── weather.go       # Entidade de clima
│   │   └── repository/
│   │       ├── location.go      # Interface LocationRepository
│   │       └── weather.go       # Interface WeatherRepository
│   ├── usecase/
│   │   └── get_weather.go       # Use case principal
│   └── infra/
│       ├── web/
│       │   └── handler.go       # HTTP handlers
│       └── external/
│           ├── viacep/
│           │   └── client.go    # Cliente ViaCEP
│           └── weatherapi/
│               └── client.go    # Cliente WeatherAPI
├── configs/
│   └── config.go                # Configurações da aplicação
├── docs/
│   ├── 1.Requisitos.md          # Requisitos do projeto
│   ├── 2.Arquitetura.md         # Documentação de arquitetura
│   ├── 3.APIs-Externas.md       # Documentação das APIs externas
│   ├── 4.Estrutura-Projeto.md   # Este documento
│   ├── 5.Conversoes-Temperatura.md # Documentação das conversões
│   ├── 6.Deploy-CloudRun.md     # Guia de deploy
│   └── 7.Plano-Implementacao.md # Plano de implementação
├── Dockerfile                   # Imagem Docker multi-stage
├── docker-compose.yml           # Orquestração local
├── go.mod                       # Dependências Go
├── go.sum                       # Checksums das dependências
├── Makefile                     # Comandos úteis
└── README.md                    # Documentação principal
```

## Descrição dos Diretórios

### `/api`

Contém arquivos para testes de API e documentação de endpoints.

| Arquivo | Descrição |
|---------|-----------|
| `api.http` | Arquivo para testes via REST Client (VS Code) |

### `/cmd`

Contém os entry points da aplicação. Seguindo o padrão Go, cada subdiretório representa um binário diferente.

```
cmd/
└── api/
    └── main.go    # Inicialização do servidor HTTP
```

### `/internal`

Código privado da aplicação, não importável por projetos externos.

#### `/internal/domain`

Camada de domínio com entidades e interfaces (ports):

| Arquivo | Descrição |
|---------|-----------|
| `entity/location.go` | Estrutura `Location` com cidade e estado |
| `entity/weather.go` | Estrutura `Weather` com temperaturas |
| `repository/location.go` | Interface `LocationRepository` |
| `repository/weather.go` | Interface `WeatherRepository` |

#### `/internal/usecase`

Casos de uso (regras de negócio):

| Arquivo | Descrição |
|---------|-----------|
| `get_weather.go` | Use case `GetWeatherByZipcode` |

#### `/internal/infra`

Implementações de infraestrutura (adapters):

| Diretório | Descrição |
|-----------|-----------|
| `web/` | HTTP handlers e rotas |
| `external/viacep/` | Cliente para API ViaCEP |
| `external/weatherapi/` | Cliente para WeatherAPI |

### `/configs`

Configurações e carregamento de variáveis de ambiente:

```go
type Config struct {
    ServerPort    string
    WeatherAPIKey string
}
```

### `/docs`

Documentação técnica do projeto.

---

## Arquivos na Raiz

| Arquivo | Descrição |
|---------|-----------|
| `Dockerfile` | Build multi-stage otimizado |
| `docker-compose.yml` | Ambiente de desenvolvimento |
| `go.mod` | Módulo e dependências |
| `Makefile` | Atalhos de comandos |
| `README.md` | Documentação inicial |

---

## Padrões de Código

### Nomenclatura

- **Pacotes**: lowercase, singular (`entity`, `repository`, `usecase`)
- **Interfaces**: Sufixo `er` quando verbos (`Reader`) ou nome descritivo (`LocationRepository`)
- **Structs**: PascalCase (`Weather`, `Location`)
- **Arquivos**: lowercase com underscore (`get_weather.go`)

### Organização de Imports

```go
import (
    // Standard library
    "context"
    "net/http"

    // Internal packages
    "github.com/markuscandido/go-expert-desafio-cloud-run/internal/domain/entity"

    // External packages (se houver)
)
```

### Tratamento de Erros

Erros customizados por camada:

```go
// domain/errors.go
var (
    ErrInvalidZipcode = errors.New("invalid zipcode")
    ErrZipcodeNotFound = errors.New("can not find zipcode")
)
```
